<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>3DBODY.TECH 2025 ‚Äì Explorador (filtros plegables)</title>
  <style>
    :root{ --bg:#0f172a; --panel:#111827; --muted:#94a3b8; --text:#e5e7eb; --accent:#22d3ee; --pill:#0ea5e9; }
    *{box-sizing:border-box} body{margin:0;background:linear-gradient(180deg,#0b1226,#0f172a 40%,#0b1226);font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Inter,Helvetica,Arial;color:var(--text)}
    header{position:sticky;top:0;background:rgba(15,23,42,.75);backdrop-filter:blur(8px);z-index:50;border-bottom:1px solid #0b1226}
    .wrap{max-width:1200px;margin:0 auto;padding:16px}
    .hero{display:grid;grid-template-columns:1.3fr .7fr;gap:24px;align-items:center;padding:24px 0}
    .hero h1{font-size:clamp(26px,4vw,42px);line-height:1.05;margin:0}
    .hero p{color:var(--muted);margin:.5rem 0 0}
    .badge{display:inline-flex;gap:8px;align-items:center;background:rgba(34,211,238,.12);color:#67e8f9;border:1px solid rgba(34,211,238,.25);padding:6px 10px;border-radius:999px;font-weight:600;font-size:12px}
    .panel{background:var(--panel);border:1px solid #0b1226;border-radius:16px;padding:16px}
    .chips{display:flex;flex-wrap:wrap;gap:6px}
    .chip{background:#192033;color:#e5e7eb;border:1px solid #243148;border-radius:999px;padding:6px 10px;font-size:12px;cursor:pointer}
    .chip:hover{border-color:var(--accent);box-shadow:0 0 0 2px rgba(34,211,238,.15) inset}
    .chip[data-active="true"]{background:var(--accent);color:#06212a;border-color:#22d3ee;text-shadow:0 1px 0 rgba(255,255,255,.2)}
    .grid{display:grid;grid-template-columns:1fr;gap:12px;margin-top:16px}
    @media (min-width:900px){.grid{grid-template-columns:1.2fr .8fr}.filters{grid-template-columns:repeat(6,minmax(160px,1fr))}.filters-row{display:contents}}
    @media (min-width:1200px){.filters{grid-template-columns:repeat(6,minmax(180px,1fr))}}
    .search{display:flex;gap:8px}.search input{flex:1;padding:12px 14px;border-radius:12px;border:1px solid #0b1226;background:#0b1226;color:var(--text)}
    .search button{padding:12px 14px;border-radius:12px;background:var(--pill);border:0;color:white;font-weight:700;cursor:pointer}
    .stats{display:flex;gap:12px;flex-wrap:wrap;color:var(--muted);font-size:14px}
    .pill{background:rgba(14,165,233,.15);border:1px solid rgba(14,165,233,.35);color:#bae6fd;border-radius:999px;padding:4px 8px;font-size:12px}
    .card{background:linear-gradient(180deg,#0b1226,#0e162c);border:1px solid #0b1226;border-radius:16px;padding:14px}
    .card h3{margin:.2rem 0 .4rem;font-size:18px}.meta{display:flex;flex-wrap:wrap;gap:8px;margin:.25rem 0 .5rem}
    .meta .tag{background:#071025;border:1px solid #0b1226;color:#a5b4fc;border-radius:8px;padding:4px 8px;font-size:11px}
    .authors{color:#cbd5e1;font-size:13px}.affils{color:#94a3b8;font-size:12px}.abstract{color:#d1d5db;font-size:14px;margin-top:.5rem}
    .tags{display:flex;flex-wrap:wrap;gap:6px;margin-top:.5rem}.tag2{background:#0b1226;border:1px solid #0b1226;border-radius:999px;padding:4px 8px;font-size:11px;color:#9ee6ff}
    footer{color:var(--muted);font-size:13px;margin:32px 0;text-align:center}.side{position:sticky; top:88px} details summary{cursor:pointer;color:#a7f3d0}
    .small{font-size:12px;color:var(--muted)}
    /* Anal√≠tica */ .analytics{display:grid;gap:12px;margin-top:16px}.analytics .panel h2{font-size:16px;margin:0 0 6px}
    .bars{display:grid;gap:6px}.bar{display:flex;align-items:center;gap:8px}.bar .label{flex:0 0 200px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:#cbd5e1;font-size:13px}
    .bar .track{flex:1;background:#0b1226;border:1px solid #1e293b;border-radius:999px;height:10px;position:relative}
    .bar .fill{position:absolute;inset:0 0 0 0;width:0;height:100%;background:linear-gradient(90deg,#22d3ee,#0ea5e9);border-radius:999px}
    .bar .val{flex:0 0 56px;text-align:right;color:#93c5fd;font-size:12px} .kpis{display:flex;flex-wrap:wrap;gap:8px;margin:8px 0}
    .kpi{background:rgba(14,165,233,.12);border:1px solid rgba(14,165,233,.35);color:#bae6fd;border-radius:10px;padding:6px 10px;font-size:12px}
    /* Toggle filtros avanzados */ .toggle{display:inline-flex;align-items:center;gap:8px;background:#0ea5e9;border:0;color:#001219;font-weight:700;border-radius:12px;padding:10px 12px;cursor:pointer;margin-top:8px}
    .toggle[aria-expanded=\"true\"]{background:#22d3ee} .toggle small{opacity:.85;font-weight:600}
  </style>
</head>
<body>
  <header>
    <div class="wrap" style="padding:10px 16px">
      <div style="display:flex;align-items:center;gap:12px;flex-wrap:wrap">
        <span class="badge">3DBODY.TECH ¬∑ 21‚Äì22 Oct 2025 ¬∑ Lugano (CH)</span>
        <span class="pill">Explorador de papers</span>
      </div>
    </div>
  </header>

  <main class="wrap">
    <section class="hero">
      <div>
        <h1>Congreso <span style="color:#7dd3fc">3DBODY.TECH 2025</span><br/> Buscador y filtros de res√∫menes</h1>
        <p>Filtra y busca comunicaciones por <strong>tecnolog√≠as</strong>, <strong>t√©cnicas</strong>, <strong>universidades/empresas</strong>, <strong>proyectos</strong> y sesiones. Comparte tus filtros con un enlace y revisa los res√∫menes sin salir de la p√°gina.</p>
        <div class="stats" id="stats"></div>
      </div>
      <div class="panel small">
        <p><strong>C√≥mo usarlo</strong></p>
        <ul>
          <li>Escribe en la barra de b√∫squeda (t√≠tulo, autores, palabras del resumen).</li>
          <li>Activa chips de filtros. Se pueden combinar; todo lo seleccionado debe cumplirse.</li>
          <li>Pulsa <span class="kbd">R</span> para limpiar filtros; <span class="kbd">/</span> para enfocar b√∫squeda.</li>
          <li>El enlace de la barra del navegador incluye los filtros (√∫til para compartir).</li>
        </ul>
        <p class="small">Fuente: Book of Abstracts 3DBODY.TECH 2025 (Lugano, CH). Esta es una p√°gina est√°tica, no requiere servidor.</p>
      </div>
    </section>

    <section class="grid">
      <div class="panel">
        <div class="search">
          <input id="q" type="search" placeholder="Buscar por t√≠tulo, autores, resumen‚Ä¶"/>
          <button id="btnClear">Limpiar</button>
        </div>

        <button id="btnToggleFilters" class="toggle" aria-expanded="false">Mostrar filtros avanzados <small id="countActive"></small></button>

        <div id="advFilters" style="display:none">
          <div class="filters" style="margin-top:12px">
            <div><div class="small" style="margin-bottom:6px">Tecnolog√≠as</div><div id="f-tech" class="chips"></div></div>
            <div><div class="small" style="margin-bottom:6px">T√©cnicas</div><div id="f-tec" class="chips"></div></div>
            <div><div class="small" style="margin-bottom:6px">Universidades / Empresas</div><div id="f-inst" class="chips"></div></div>
            <div><div class="small" style="margin-bottom:6px">Proyectos / Plataformas</div><div id="f-proj" class="chips"></div></div>
            <div class="filters-row">
              <div><div class="small" style="margin-bottom:6px">Sesi√≥n</div><div id="f-ses" class="chips"></div></div>
              <div><div class="small" style="margin-bottom:6px">Pa√≠s</div><div id="f-cty" class="chips"></div></div>
            </div>
          </div>
          <div class="small" style="margin-top:8px">Activos: <span id="activeFilters"></span></div>
        </div>
      </div>
      <aside class="side">
        <div class="panel">
          <details open><summary>Descargar / Exportar</summary><div class="small" style="margin-top:8px">Guarda como <em>archivo √∫nico</em> (Ctrl/Cmd+S) y comp√°rtelo. Puedes copiar el bloque <code>PAPERS</code> para ampliar la base.</div></details>
          <details style="margin-top:10px"><summary>Plantilla para m√°s papers</summary><pre class="small">{ id:\"00\", session:\"Opening\", title:\"‚Ä¶\", authors:[\"‚Ä¶\"], affiliations:[\"‚Ä¶\"], country:\"‚Ä¶\", technologies:[\"‚Ä¶\"], techniques:[\"‚Ä¶\"], institutions:[\"‚Ä¶\"], projects:[\"‚Ä¶\"], summary:\"‚Ä¶\" }</pre></details>
          <details style="margin-top:10px"><summary>Atajos</summary><div class="small">/ enfoque b√∫squeda ¬∑ R limpiar filtros ¬∑ Esc quitar foco</div></details>
        </div>
      </aside>
    </section>

    <section style="margin-top:16px"><div id="results"></div></section>

    <section class="analytics">
      <div class="panel"><h2>üìä Top tecnolog√≠as y t√©cnicas m√°s usadas (global)</h2><div class="kpis" id="kpi-top"></div><div class="bars" id="bars-tech"></div><div class="bars" id="bars-tec" style="margin-top:8px"></div></div>
      <div class="panel"><h2>ü©∫ An√°lisis de temas m√©dicos</h2><div class="kpis" id="kpi-med"></div><div class="bars" id="bars-med-tech"></div></div>
    </section>

    <footer>Hecho con ‚ù§Ô∏è para analizar 3DBODY.TECH 2025.</footer>
  </main>

<script>
const PAPERS = [{"id": "36", "session": "TS1 ¬∑ Medical 3D/4D I", "title": "High-Fidelity 3D Body Reconstructions from Pictures", "authors": ["Pol Caselles"], "affiliations": ["Hexag Crisalix SA"], "country": "Switzerland", "technologies": ["Reconstrucci√≥n 3D", "Fotogrametr√≠a", "M√≥vil/smartphone"], "techniques": ["Monocular", "RGB", "IA"], "institutions": ["Crisalix"], "projects": [], "summary": "Plataforma independiente que genera reconstrucciones 3D a partir de fotos de m√≥vil para est√©tica; presentan nueva tecnolog√≠a de cuerpo completo con precisi√≥n de superficie de √∫ltima generaci√≥n.", "links": {"proc": "https://3dbody.tech"}}, {"id": "51", "session": "TS1 ¬∑ Medical 3D/4D I", "title": "The INBODY ‚Äì Instant Body Scan Medical Device from BeyondShape", "authors": ["Stanislao Grazioso"], "affiliations": ["BeyondShape Srl"], "country": "Italy", "technologies": ["Esc√°ner 3D", "Dispositivo m√©dico"], "techniques": ["IA", "Modelado biomec√°nico"], "institutions": ["BeyondShape"], "projects": [], "summary": "Dispositivo instant√°neo para escaneo corporal m√©dico combinando modelado biomec√°nico e IA.", "links": {}}, {"id": "10", "session": "TS1 ¬∑ Medical 3D/4D I", "title": "Towards Motion Correction in Robotized Medical Procedures Using Real-Time 3D Body Measurement", "authors": ["Matej Campelj", "Matija Jezersek"], "affiliations": ["Univ. of Ljubljana"], "country": "Slovenia", "technologies": ["Medici√≥n 3D en tiempo real", "ToF"], "techniques": ["√ìptical flow", "Fusi√≥n RGB-D"], "institutions": ["University of Ljubljana"], "projects": ["Fusion Flow"], "summary": "Marco de correcci√≥n de movimiento que fusiona flujo √≥ptico con nubes 3D ToF; Farneb√§ck a 140 FPS con ~8 mm de error en trayectoria.", "links": {}}, {"id": "54", "session": "TS1 ¬∑ Medical 3D/4D I", "title": "Learning Neural Parametric 3D Breast Shape Models from Monocular RGB Videos", "authors": ["Maximilian Weiherer", "Antonia von Riedheim", "Vanessa Brebant", "Bernhard Egger", "Christoph Palm"], "affiliations": ["FAU Erlangen-N√ºrnberg", "OTH Regensburg", "Univ. Hospital Regensburg"], "country": "Germany", "technologies": ["Modelo param√©trico", "Neural SDF"], "techniques": ["V√≠deo monocular", "SfM", "Representaciones impl√≠citas"], "institutions": ["FAU", "OTH Regensburg", "Univ. Hospital Regensburg"], "projects": ["liRBSM"], "summary": "Modelo param√©trico de mama (liRBSM) y pipeline de reconstrucci√≥n m√©trica desde v√≠deo RGB monocular; error <2 mm y c√≥digo abierto.", "links": {}}, {"id": "23", "session": "TS2 ¬∑ Apparel I", "title": "Custom Fit Model Avatars: 3D Body Scanning Workflows for Digital Fashion", "authors": ["Kyra Gibson", "Penelope Norman", "Jonathan Burgess", "Sarah Dick"], "affiliations": ["Arts University Bournemouth"], "country": "UK", "technologies": ["Avatares", "Moda digital"], "techniques": ["CLO3D", "Flujo de trabajo"], "institutions": ["AUB"], "projects": ["ThruDark"], "summary": "Creaci√≥n de avatares de ajuste para marcas (caso ThruDark) alineados con tallaje legado y reducci√≥n de muestreo f√≠sico.", "links": {}}, {"id": "31", "session": "TS2 ¬∑ Apparel I", "title": "Landmarks for Dressing Avatars at Scale", "authors": ["Ye Fan", "Seung Heon Sheen", "Clarissa Martins", "Dinesh K. Pai"], "affiliations": ["Vital Mechanics Research", "University of British Columbia"], "country": "Canada", "technologies": ["Colocaci√≥n de prendas", "Avatares"], "techniques": ["Landmarks de prenda", "Optimizaci√≥n"], "institutions": ["Vital Mechanics", "UBC"], "projects": ["VitalFit"], "summary": "Uso de ‚Äòlandmarks‚Äô de prenda emparejados con ‚Äòlandmarks‚Äô corporales para automatizar colocaci√≥n a gran escala en m√∫ltiples avatares.", "links": {}}, {"id": "42", "session": "TS2 ¬∑ Apparel I", "title": "Adopting 3D Body Scanning in Customized Apparel Design: Barriers", "authors": ["Daria Casciani", "Alessandra Carella", "Marta Caserotti", "Enrico Rubaltelli"], "affiliations": ["Politecnico di Milano", "Universit√† di Padova"], "country": "Italy", "technologies": ["Escaneo 3D", "Moda personalizada"], "techniques": ["Encuestas/entrevistas", "Framework de flujo"], "institutions": ["Polimi", "Univ. Padova"], "projects": [], "summary": "Estudio mixto sobre adopci√≥n en moda personalizada: valor en ajuste/visualizaci√≥n vs. retos de interoperabilidad, mallas y consistencia de medidas; se propone flujo revisado.", "links": {}}, {"id": "47", "session": "TS2 ¬∑ Apparel I", "title": "Made-to-Measure Jeans from 3D Body Scanning", "authors": ["Ken Varner"], "affiliations": ["botspot", "Vertex", "EPHOTO"], "country": "Germany/Italy", "technologies": ["MTM", "Escaneo 3D"], "techniques": ["Cadena de valor"], "institutions": ["botspot", "Vertex", "EPHOTO"], "projects": [], "summary": "Caso de vaqueros a medida a partir de escaneo 3D.", "links": {}}, {"id": "46", "session": "TS3 ¬∑ Data & Anthropometry", "title": "Fit for the Future: Why Europe Needs New Body Data Now", "authors": ["Tim Guenzel"], "affiliations": ["Humanetics Digital Europe"], "country": "Germany", "technologies": ["Datos antropom√©tricos"], "techniques": ["Encuestas de tallaje"], "institutions": ["Humanetics"], "projects": [], "summary": "Argumenta la necesidad urgente de nuevos datos corporales en Europa.", "links": {}}, {"id": "20", "session": "TS3 ¬∑ Data & Anthropometry", "title": "Anthropometric Scale Models", "authors": ["Boris Bauer", "Thomas Fischer", "Alexander Mirosnicenko", "Sibylle Schmied"], "affiliations": ["DITF"], "country": "Germany", "technologies": ["Modelos de escala", "Ergonom√≠a"], "techniques": ["An√°lisis de campa√±as de tallaje"], "institutions": ["DITF"], "projects": [], "summary": "Modelos que resumen distribuci√≥n de medidas por longitud/peso; hallazgos sobre volumen y relaci√≥n ancho-largo por segmentos y termorregulaci√≥n.", "links": {}}, {"id": "30", "session": "TS3 ¬∑ Data & Anthropometry", "title": "Analyzing Body Asymmetry Using 3D Scans and Machine Learning", "authors": ["Yingying Wu", "Kristen Morris", "Xuebo Liu", "Reannan Boisvert", "Hongyu Wu"], "affiliations": ["Kansas State University", "Colorado State University"], "country": "USA", "technologies": ["ML", "Antropometr√≠a 3D"], "techniques": ["SVM", "t-tests", "Correlaciones"], "institutions": ["KSU", "CSU"], "projects": [], "summary": "Cuantifica asimetr√≠as bilaterales en 245 adultos y recomendaciones para protocolos y patronaje.", "links": {}}, {"id": "56", "session": "TS3 ¬∑ Data & Anthropometry", "title": "Anthropometric Measurement Extraction of Saudi Women Using 3D Body Scanning", "authors": ["Faizah Almalki"], "affiliations": ["University of Albahah"], "country": "Saudi Arabia", "technologies": ["Escaneo 3D", "Moda"], "techniques": ["Clusterizaci√≥n", "Mediciones volum√©tricas"], "institutions": ["University of Albahah"], "projects": [], "summary": "Variabilidad significativa de medidas y formas; propone tallajes locales culturalmente sensibles.", "links": {}}, {"id": "14", "session": "TS4 ¬∑ Systems & Apps", "title": "Real-World Applications of MOVE4D Technology", "authors": ["Carmelo Lizarraga"], "affiliations": ["IBV Instituto de Biomec√°nica de Valencia"], "country": "Spain", "technologies": ["4D scanning", "Biomec√°nica"], "techniques": ["Plataforma MOVE4D"], "institutions": ["IBV"], "projects": ["MOVE4D"], "summary": "Casos reales de captura de movimiento y datos corporales para ergonom√≠a, producto y visi√≥n por computador.", "links": {}}, {"id": "17", "session": "TS4 ¬∑ Systems & Apps", "title": "Anatomic Scanning Using the Structure Sensor 3 and the Structure SDK", "authors": ["Paulo E. X. Silveira", "Anton Tokar", "Dmitry Gladyshev", "Jane Mulligan", "Ravi Shah"], "affiliations": ["Structure"], "country": "USA", "technologies": ["RGB-D", "Ecosistema SDK"], "techniques": ["Filtrado por confianza", "Binning de p√≠xel"], "institutions": ["Structure"], "projects": ["Structure Sensor 3"], "summary": "Sensor RGB-D optimizado para anatom√≠a y SDK compatible con TrueDepth/LiDAR; robustez, precisi√≥n y presets especializados.", "links": {}}, {"id": "60", "session": "TS4 ¬∑ Systems & Apps", "title": "ONEBra ‚Äì Customized Bra for Correcting Asymmetric Breast Shape by 3D Scanning & 3D Printing", "authors": ["Danilo Tomasoni"], "affiliations": ["ONEBra srl"], "country": "Italy", "technologies": ["Escaneo 3D", "Impresi√≥n 3D"], "techniques": ["Prototipado personalizado"], "institutions": ["ONEBra"], "projects": ["ONEBra"], "summary": "Pr√≥tesis externas personalizadas para asimetr√≠as mamarias, escaneo en puntos certificados o app dedicada; materiales certificados piel.", "links": {}}, {"id": "33", "session": "TS5 ¬∑ Wearables", "title": "6dof EMob: Occlusion-Free 3D Position and Orientation Measurement Under Clothing", "authors": ["Yixian Cheng", "Hannah Gulka", "Luis Bolanos", "Pearson Wyder-Hodge", "Ye Fan", "Dinesh K. Pai"], "affiliations": ["UBC", "Vital Mechanics"], "country": "Canada", "technologies": ["Seguimiento EM", "6DoF"], "techniques": ["Calibraci√≥n SE(3) con red neuronal"], "institutions": ["UBC", "Vital Mechanics"], "projects": ["EMob"], "summary": "Extensi√≥n 6DoF de EMob con correcci√≥n espacial dependiente del entorno para uso bajo ropa y dentro de esc√°neres 3D.", "links": {}}, {"id": "40", "session": "TS5 ¬∑ Wearables", "title": "Dynamic Body-Garment Simulation to Characterise Wearable Activity Recognition Performance", "authors": ["Lars Ole Haeusler", "Lena Uhlenberg", "Oliver Amft"], "affiliations": ["University of Freiburg", "Hahn-Schickard"], "country": "Germany", "technologies": ["Simulaci√≥n 4D", "HAR"], "techniques": ["vIMUs", "SMPL", "Generaci√≥n sint√©tica"], "institutions": ["Uni Freiburg", "Hahn-Schickard"], "projects": [], "summary": "Simula sensores inerciales en prendas para estimar rendimiento HAR antes de fabricar; muestra impacto de holgura y montaje.", "links": {}}, {"id": "43", "session": "TS5 ¬∑ Wearables", "title": "Integrating 3D Scans and CAD Tools for Custom-Fit Wearable Health Monitoring Systems", "authors": ["Pulkit Mishra", "Clara Emmerling"], "affiliations": ["TITV Greiz"], "country": "Germany", "technologies": ["Textiles inteligentes", "CAD"], "techniques": ["Rhino/Grasshopper", "Mapeos UV"], "institutions": ["TITV Greiz"], "projects": [], "summary": "Workflow para camisetas ECG a medida combinando escaneos, patrones 2D y transferencia precisa de zonas de contacto/sensores.", "links": {}}, {"id": "04", "session": "TS6 ¬∑ Mobile Scanning", "title": "Scan-over-Clothes (SOC): Improved Body Measurement Accuracy when Scanning Loose-Clothed Subjects", "authors": ["Matthew S. Gilmer", "Steven C. Hauser", "David Bruner"], "affiliations": ["Size Stream LLC"], "country": "USA", "technologies": ["Medici√≥n m√≥vil", "Segmentaci√≥n ropa"], "techniques": ["BPC segmenter", "Datos sint√©ticos"], "institutions": ["Size Stream"], "projects": ["SOC"], "summary": "Segmentador Cuerpo+Ropa y modelo SOC que compensa holgura; degradaci√≥n <10% frente a ropa ideal.", "links": {}}, {"id": "49", "session": "TS6 ¬∑ Mobile Scanning", "title": "Esenca Sizing, When Size Actually Matters", "authors": ["Eduard Cojocea"], "affiliations": ["Esenca Sizing"], "country": "Romania", "technologies": ["Medici√≥n m√≥vil", "Recomendaci√≥n de talla"], "techniques": ["Estudios de validaci√≥n"], "institutions": ["Esenca"], "projects": [], "summary": "Cuatro validaciones: compresi√≥n m√©dica, comparaci√≥n con esc√°ner 3D, correlaci√≥n salud y recomendaci√≥n real con 91% de acierto.", "links": {}}, {"id": "07", "session": "TS6 ¬∑ Mobile Scanning", "title": "Advances in Smartphone-Based Body Scanning: 3D Body Data in Minutes", "authors": ["Petri Tanskanen"], "affiliations": ["Astrivis Technologies"], "country": "Switzerland", "technologies": ["Escaneo smartphone"], "techniques": ["Software-only", "iOS/Android"], "institutions": ["Astrivis"], "projects": [], "summary": "Captura y medidas (cara, piernas, pies) desde m√≥viles est√°ndar en minutos.", "links": {}}, {"id": "59", "session": "TS6 ¬∑ Mobile Scanning", "title": "Fast and Accurate Mobile 3D Body Scanning Technology", "authors": ["Luciano Gervasoni"], "affiliations": ["3DLOOK"], "country": "Netherlands", "technologies": ["Medici√≥n m√≥vil", "IA"], "techniques": ["Gu√≠a de captura", "Modelo 3D + 85 medidas"], "institutions": ["3DLOOK"], "projects": [], "summary": "Soluci√≥n de fotos frontal/lateral guiadas con modelo 3D y >85 medidas en <1 min.", "links": {}}, {"id": "24", "session": "TS7 ¬∑ Medical II", "title": "Virtual Environments in Surgery: Synthetic SLAM Validation in Knee Arthroplasty", "authors": ["Arne Schierbaum", "Tobias Neiss-Theuerkauff", "Thomas Luhmann", "Frank Wallhoff", "Till Sieberth"], "affiliations": ["Jade University"], "country": "Germany", "technologies": ["SLAM", "Simulaci√≥n Blender"], "techniques": ["Datasets sint√©ticos", "M√°scaras precisas"], "institutions": ["Jade University"], "projects": [], "summary": "Entorno simulado para validar SLAM intraoperatorio sin marcadores y generar datos de entrenamiento.", "links": {}}, {"id": "34", "session": "TS7 ¬∑ Medical II", "title": "Mobile 3D Scanning Facilitated Custom-Fit Hearing Aid Shell Manufacturing", "authors": ["Aliana Yee", "Alicia Yee", "Frank Meng", "Todd Ricketts"], "affiliations": ["SnugFit Solutions", "Vanderbilt Univ. Medical Center"], "country": "USA", "technologies": ["Escaneo m√≥vil", "Impresi√≥n 3D"], "techniques": ["Auto-escaneo", "Nube y prototipado r√°pido"], "institutions": ["SnugFit", "Vanderbilt"], "projects": [], "summary": "Pipeline de auto-escaneo, modelado y 3D print local de carcasas de aud√≠fono; evaluaci√≥n por Likert y comparativas.", "links": {}}, {"id": "28", "session": "TS7 ¬∑ Medical II", "title": "Parametric Design of Custom Prosthetic Limbs Covers", "authors": ["Mohammad S. Hoseini", "Khahsyar Hojjati Emami", "Mahdi Malekkhuyan"], "affiliations": ["University of Art, Tehran", "Najaf Abad Azad University"], "country": "Iran", "technologies": ["Generative design", "Additive"], "techniques": ["Rhino/Grasshopper", "Interfaces de usuario"], "institutions": ["University of Art Tehran", "Azad University"], "projects": [], "summary": "Flujo generativo para cubiertas est√©ticas de pr√≥tesis con validaci√≥n de usuario y beneficios percibidos.", "links": {}}, {"id": "22", "session": "TS8 ¬∑ Apparel II", "title": "Digitisation of Body Modification Garments for Historical Costume", "authors": ["Megan Watkins", "Penelope Norman", "Jon Burgess", "Sophie Fretwell"], "affiliations": ["Arts University Bournemouth"], "country": "UK", "technologies": ["Escaneo 3D", "Avatares silueteados"], "techniques": ["Flujos emp√≠ricos"], "institutions": ["AUB"], "projects": [], "summary": "Crea avatares con silueta hist√≥rica para patronaje digital del s. XVI con mayor precisi√≥n.", "links": {}}, {"id": "37", "session": "TS8 ¬∑ Apparel II", "title": "Posture Descriptors (PARCS), What We Know and the Gaps", "authors": ["Carol McDonald", "P.U. Navodhya", "Gerald Ruderman", "Bonny Carmicino", "Fatma Bayter", "Mona Maher", "Sujin Yoo"], "affiliations": ["Gneiss Concept", "Cornell", "etc."], "country": "USA/Sri Lanka", "technologies": ["Postura", "Dise√±o de prendas"], "techniques": ["Marco PARCS"], "institutions": ["Gneiss Concept", "Cornell"], "projects": ["PARCS"], "summary": "Revisi√≥n y recomendaciones para alinear vocabulario y conocimiento sobre postura (Placement, Alignment, Rotation, Curvature, Symmetry).", "links": {}}, {"id": "48", "session": "TS8 ¬∑ Apparel II", "title": "The Subtle Shift: How Arm Position Affects Full-Body Posture in 3D Scanning", "authors": ["Marina Gery"], "affiliations": ["PersonalFashion LLC"], "country": "USA", "technologies": ["Escaneo 3D", "Postura"], "techniques": ["Comparativas A/T-pose", "Mapas de distancia"], "institutions": ["PersonalFashion"], "projects": [], "summary": "Efectos de elevar brazos 30‚Äì60¬∫ en postura y medidas; implicaciones para producci√≥n a medida.", "links": {}}, {"id": "13", "session": "TS8 ¬∑ Apparel II", "title": "Cross-Platform 3D Workflow for Asymmetric Dress Forms for Wheelchair Users", "authors": ["Pimpawan Kumphai", "JoDell Heroux", "Lauren Agnew", "Ian Mull"], "affiliations": ["Central Michigan University"], "country": "USA", "technologies": ["Accesibilidad", "Avatares/escaneo"], "techniques": ["Dise√±o de formas", "Escalado/compatibilidad"], "institutions": ["CMU (Michigan)"], "projects": [], "summary": "Desarrollo de maniqu√≠es asim√©tricos personalizados para usuarios de silla de ruedas y uso docente.", "links": {}}, {"id": "03", "session": "TS9 ¬∑ Medicine, Health & Sport", "title": "Improvements in 3D Body Shape and Measurement Accuracy from Size Stream", "authors": ["Steven C. Hauser", "Matthew S. Gilmer", "David Bruner"], "affiliations": ["Size Stream LLC"], "country": "USA", "technologies": ["Escaneo m√≥vil", "Composici√≥n corporal"], "techniques": ["Reconstrucci√≥n silueta", "Validaci√≥n R¬≤>0.96"], "institutions": ["Size Stream"], "projects": [], "summary": "Mejoras en %grasa (R¬≤>0.96), representaci√≥n para IMC alto y repetibilidad de medidas.", "links": {}}, {"id": "52", "session": "TS9 ¬∑ Medicine, Health & Sport", "title": "BodyLoop ‚Äì Use of 3D Body Scanning in Sports, Medicine, and Longevity", "authors": ["Florian Krickl"], "affiliations": ["VITRONIC"], "country": "Germany", "technologies": ["Escaneo √≥ptico", "Longevity"], "techniques": ["Plataforma BodyLoop"], "institutions": ["VITRONIC"], "projects": ["BodyLoop"], "summary": "Plataforma de escaneo para prevenci√≥n, seguimiento y rehabilitaci√≥n con casos pr√°cticos.", "links": {}}, {"id": "15", "session": "TS9 ¬∑ Medicine, Health & Sport", "title": "The FITME Project: Personalized Obesity Profiling Integrating 4D Scanning, Thermography, Imaging & Biomarkers", "authors": ["Nerea Cilleruelo", "Eduardo Parrilla", "Alfredo Ballester", "Consuelo Latorre", "Ainhoa Rodriguez de Luis", "Alvaro Huguet"], "affiliations": ["IBV"], "country": "Spain", "technologies": ["4D", "Termograf√≠a", "Avatares"], "techniques": ["Sincronizaci√≥n PTP", "Fusi√≥n √≥ptico-t√©rmica"], "institutions": ["IBV"], "projects": ["FITME", "HAL", "MOVE4D"], "summary": "Plataforma multisensor HAL con 16 unidades estructuradas + RGB + LWIR; alineaci√≥n <1 ms y creaci√≥n de indicadores compuestos para perfilado de obesidad.", "links": {}}, {"id": "12", "session": "TS10 ¬∑ Processing, Modeling & Avatars", "title": "Why Does the Apparel Use Case Need a Different Approach to the Rig/Weight Systems?", "authors": ["Katy Schildmeyer", "Carol McDonald", "Amelia Schildmeyer"], "affiliations": ["Design Cycle Solutions", "Gneiss Concept", "Somaticpdx"], "country": "USA", "technologies": ["Rigging", "Avatares de moda"], "techniques": ["PARCS", "Weighting graduado"], "institutions": ["DCS", "Gneiss"], "projects": [], "summary": "Argumenta sistemas de rig/pesos espec√≠ficos para moda con fidelidad matem√°tica y reducci√≥n de residuos.", "links": {}}, {"id": "29", "session": "TS10 ¬∑ Processing, Modeling & Avatars", "title": "OSSO vs SKEL: Skeletal Inference from 4D Body Scans", "authors": ["Ingrid Peraza", "Yordan Kyosev", "Ann-Malin Tal"], "affiliations": ["TU Dresden"], "country": "Germany", "technologies": ["Inferencia esquel√©tica"], "techniques": ["OSSO", "SKEL", "SMPL"], "institutions": ["TU Dresden"], "projects": [], "summary": "Comparativa de dos herramientas open-source para inferir esqueleto a partir de mallas 4D/SMPL y su calidad biomec√°nica.", "links": {}}, {"id": "19", "session": "TS10 ¬∑ Processing, Modeling & Avatars", "title": "Creation of Avatars in Sportive Poses for Skin Shape Prediction", "authors": ["Alejandra Polanco", "Yoann Lafon", "Georges Beurier", "Junfeng Peng", "Xuguang Wang"], "affiliations": ["Decathlon Sportslab", "Univ. Lyon/Gustave Eiffel/Claude Bernard"], "country": "France", "technologies": ["Modelo humano digital", "Predicci√≥n de piel"], "techniques": ["Linear blend skinning", "Data-driven"], "institutions": ["Decathlon", "LBMC"], "projects": [], "summary": "DHM con esqueleto anat√≥mico parametrizado para predecir piel en posturas deportivas; evaluaci√≥n por BMI y poses variadas.", "links": {}}, {"id": "09", "session": "TS11 ¬∑ Face Systems", "title": "Copresence: End-to-End 3D Avatar Capture in the Wild", "authors": ["Titus Leistner"], "affiliations": ["Copresence"], "country": "Germany", "technologies": ["Captura m√≥vil", "Avatares fotorrealistas"], "techniques": ["Gu√≠as de captura", "Reconstrucci√≥n robusta", "Compleci√≥n 360¬∫"], "institutions": ["Copresence"], "projects": ["Copresence"], "summary": "Pipeline m√≥vil para avatares de alta fidelidad desde escaneo con smartphone en condiciones no controladas.", "links": {}}, {"id": "52F", "session": "TS11 ¬∑ Face Systems", "title": "Precise 4D Facial Imaging System with Multiple IR Structured Light Sensors", "authors": ["Di Wu", "Yuping Ye", "Bin Ren", "Jixin Liang", "Zhan Song"], "affiliations": ["SIAT, CAS", "SUSTech", "CUHK"], "country": "China/Hong Kong", "technologies": ["Estructurada IR", "4D facial"], "techniques": ["730/850/950 nm", "CUDA tiempo real"], "institutions": ["SIAT", "SUSTech", "CUHK"], "projects": [], "summary": "Sistema multi-longitud de onda con 0.1 mm de precisi√≥n y hasta 29 Hz reconstrucci√≥n 3D facial.", "links": {}}, {"id": "27", "session": "TS11 ¬∑ Face Systems", "title": "3DGrowthNet: Synthetic Aging & Conditional Shape Generation Using 3D Facial Meshes", "authors": ["Nina Claessens", "Susan Walsh", "Mark Shriver", "Seth M. Weinberg", "Paolo M. Cattaneo", "Anthony J. Penington", "Peter Claes"], "affiliations": ["KU Leuven", "Indiana Univ.", "Penn State", "Pittsburgh", "Univ. Melbourne", "Murdoch Children's", "RCH"], "country": "Belgium/USA/Australia", "technologies": ["Deep learning", "CVAE-GAN"], "techniques": ["Envejecimiento continuo", "Estimaci√≥n edad/sexo"], "institutions": ["KU Leuven", "PSU", "Pittsburgh", "Melbourne", "MCRI", "RCH"], "projects": ["3DGrowthNet"], "summary": "Marco multitarea para envejecimiento sint√©tico y generaci√≥n condicionada con error ~2 mm y mejora del 20% en identificaci√≥n.", "links": {}}, {"id": "39", "session": "TS11 ¬∑ Face Systems", "title": "Experimental Investigation of the Fit of Face Masks During Speaking Using 3D and 4D Scanning", "authors": ["Niklas Schmidt", "Felix Kunzelmann", "Ingrid Peraza", "Ann-Malin Schmidt", "Yordan Kyosev"], "affiliations": ["TU Dresden"], "country": "Germany", "technologies": ["Ajuste de mascarillas", "4D"], "techniques": ["Comparaci√≥n 3D vs 4D", "Indicadores de fuga/desplazamiento"], "institutions": ["TU Dresden"], "projects": [], "summary": "Eval√∫a m√©todos 3D/4D para ajuste de mascarillas durante el habla y propone procedimientos.", "links": {}}, {"id": "57", "session": "TS12 ¬∑ 4D/Volumetric/GS", "title": "Bringing Training to Life: Commercial Applications of 4DGS in L&D", "authors": ["Lennard Wolff"], "affiliations": ["AdventuryXR"], "country": "UK", "technologies": ["4D Gaussian Splatting", "Volumetric"], "techniques": ["6DoF aprendizaje"], "institutions": ["AdventuryXR"], "projects": [], "summary": "Aplicaciones comerciales de 4DGS para contenidos formativos con movimiento 6DoF.", "links": {}}, {"id": "21", "session": "TS12 ¬∑ 4D/Volumetric/GS", "title": "Automated Method for Removing Objects from 4D Scan Datasets", "authors": ["Lilly Roemer", "Ann-Malin Schmidt", "Yordan Kyosev"], "affiliations": ["TU Dresden"], "country": "Germany", "technologies": ["Procesado 4D"], "techniques": ["DBSCAN", "Color weighting", "ICP"], "institutions": ["TU Dresden"], "projects": [], "summary": "Tres m√©todos autom√°ticos para eliminar objetos auxiliares (caja, escal√≥n, cinta) en datasets 4D y mejorar mallas homologadas.", "links": {}}, {"id": "58", "session": "TS12 ¬∑ 4D/Volumetric/GS", "title": "3DGS & 4DGS ‚Äì From Capture to Presence: 4D Digital Humans", "authors": ["Azad Abbasi"], "affiliations": ["GeniusXR"], "country": "Canada", "technologies": ["4DGS", "Streaming tiempo real"], "techniques": ["Compresi√≥n", "Web playback"], "institutions": ["GeniusXR"], "projects": [], "summary": "Pipeline de humanos digitales 4D de captura multi-c√°mara a reproducci√≥n web en tiempo real.", "links": {}}, {"id": "45", "session": "TS12 ¬∑ 4D/Volumetric/GS", "title": "Cost-Efficient Volumetric Capture: From Neural Rendering to Gaussian Splatting Rig", "authors": ["Sergei Eliseev", "Georgii Molodtsov"], "affiliations": ["Yandex"], "country": "Kazakhstan/Serbia", "technologies": ["Volum√©trico accesible"], "techniques": ["NeRF/SDF", "Rig GoPro giratorio", "Conversi√≥n splats‚Üímalla"], "institutions": ["Yandex"], "projects": [], "summary": "Sustituye estudios caros por c√°maras commodity/redes neuronales y rig m√≥vil de 8 GoPro; conversi√≥n a mallas animables.", "links": {}}, {"id": "18", "session": "TS13 ¬∑ Foot Scanning", "title": "Foot Landmark Detection with Structure", "authors": ["Jane Mulligan", "Kazi M. Hoque", "Anton Tokar", "Dmitry Gladyshev", "Paulo E. X. Silveira"], "affiliations": ["Structure"], "country": "USA", "technologies": ["Escaneo pie", "TrueDepth/LiDAR"], "techniques": ["Detecci√≥n de landmarks", "Validaci√≥n en modelo"], "institutions": ["Structure"], "projects": ["3DFootScan"], "summary": "SDK y app para medidas de pie (longitud, anchura, arcos, etc.) validadas frente a referencia.", "links": {}}, {"id": "41", "session": "TS13 ¬∑ Foot Scanning", "title": "Digitizing Military Footwear Provisioning through Foot Measurement and Shoe Matching", "authors": ["Andres Prada Gonzalez"], "affiliations": ["Footprint Technologies"], "country": "Germany", "technologies": ["Recomendaci√≥n de talla", "Web m√≥vil"], "techniques": ["Par√°metros de ajuste", "Datos de horma"], "institutions": ["Footprint Tech"], "projects": [], "summary": "Herramienta m√≥vil para medir pies y sugerir talla en 10+ modelos; >90% de acierto y 50% menos tiempo en pertrechado.", "links": {}}, {"id": "44", "session": "TS13 ¬∑ Foot Scanning", "title": "Role of 3D Technologies in Orthopedic Footwear Production", "authors": ["Liliia Chertenko", "Tymofii Lypskyi", "Olexander Udovenko", "Dariia Kaptiurova"], "affiliations": ["Kyiv National University of Technologies and Design"], "country": "Ukraine", "technologies": ["CAD/CAM calzado", "Impresi√≥n 3D"], "techniques": ["Param√©trico + SubD", "NURBS"], "institutions": ["KNUTD"], "projects": [], "summary": "Digitalizaci√≥n integral para hormas ortop√©dicas y elementos correctivos; propone enfoque combinado param√©trico+SubD con verificaci√≥n por curvas.", "links": {}}];

const by = sel => document.querySelector(sel);
const esc = s => String(s||"").replace(/[&<>]/g, c=>({"&":"&amp;","<":"&lt;",">":"&gt;"}[c]));

const state = { q:"", tech:new Set(), tec:new Set(), inst:new Set(), proj:new Set(), ses:new Set(), cty:new Set() };
const ui = { advOpen: (localStorage.getItem('advOpen')==='1') };

function uniq(arr){ return Array.from(new Set(arr.filter(Boolean).map(x=>x.trim()))).sort((a,b)=>a.localeCompare(b,'es')); }

function collectFacets(data){
  const facets = {tech:new Set(), tec:new Set(), inst:new Set(), proj:new Set(), ses:new Set(), cty:new Set()};
  data.forEach(p=>{
    (p.technologies||[]).forEach(x=>facets.tech.add(x));
    (p.techniques||[]).forEach(x=>facets.tec.add(x));
    (p.institutions||p.affiliations||[]).forEach(x=>facets.inst.add(x));
    (p.projects||[]).forEach(x=>facets.proj.add(x));
    if(p.session) facets.ses.add(p.session);
    if(p.country) facets.cty.add(p.country);
  });
  return Object.fromEntries(Object.entries(facets).map(([k,v])=>[k, uniq([...v]) ]));
}

function renderChips(containerId, items, key){
  const el = by(containerId); if(!el) return; el.innerHTML = "";
  items.forEach(label=>{
    const c = document.createElement('button'); c.className = 'chip'; c.textContent = label;
    c.dataset.value = label; c.dataset.key = key; c.dataset.active = state[key].has(label);
    c.addEventListener('click', ()=>{ toggleChip(key,label); }); el.appendChild(c);
  });
}

function toggleChip(key,label){ if(state[key].has(label)) state[key].delete(label); else state[key].add(label); syncURL(); update(); }
function activeFiltersText(){ const parts=[]; for(const [k,set] of Object.entries(state)) if(k!=='q' && set.size) parts.push(`${set.size} en ${k}`); return parts.length? parts.join(' ¬∑ '): '‚Äî'; }
function totalActiveCount(){ let n=0; for(const [k,set] of Object.entries(state)) if(k!=='q') n+=set.size; return n; }

function matchQuery(p,q){ if(!q) return true; q=q.toLowerCase(); const hay = [p.title, ...(p.authors||[]), ...(p.affiliations||[]), p.summary, p.session].join(' ').toLowerCase(); return q.split(/\\s+/).every(t=>hay.includes(t)); }
function matchSet(set, arr){ if(!set.size) return true; const S=new Set((arr||[]).map(x=>x.toLowerCase())); for(const v of set) if(!S.has(v.toLowerCase())) return false; return true; }
function filterData(){ return PAPERS.filter(p=> matchQuery(p,state.q) && matchSet(state.tech,p.technologies) && matchSet(state.tec,p.techniques) && matchSet(state.inst,(p.institutions||p.affiliations)) && matchSet(state.proj,p.projects) && matchSet(state.ses,[p.session]) && matchSet(state.cty,[p.country]) ); }

function renderResults(items){
  const root = by('#results'); root.innerHTML = '';
  if(!items.length){ root.innerHTML = '<div class=\"panel\">Sin resultados. Ajusta filtros o limpia la b√∫squeda.</div>'; return; }
  const frag = document.createDocumentFragment();
  items.forEach(p=>{
    const el = document.createElement('article'); el.className='card';
    el.innerHTML = `
      <div class=\"meta\">
        <span class=\"tag\">${esc(p.session||'')}</span>
        <span class=\"tag\">#${esc(p.id)}</span>
        ${p.country?`<span class=\"tag\">${esc(p.country)}</span>`:''}
      </div>
      <h3>${esc(p.title)}</h3>
      <div class=\"authors\">${esc((p.authors||[]).join(', '))}</div>
      <div class=\"affils\">${esc((p.affiliations||[]).join(' ¬∑ '))}</div>
      <p class=\"abstract\">${esc(p.summary||'')}</p>
      <div class=\"tags\">
        ${(p.technologies||[]).map(t=>`<span class=\"tag2\">${esc(t)}</span>`).join('')}
        ${(p.techniques||[]).map(t=>`<span class=\"tag2\">${esc(t)}</span>`).join('')}
        ${(p.projects||[]).map(t=>`<span class=\"tag2\">${esc(t)}</span>`).join('')}
      </div>
    `; frag.appendChild(el);
  }); root.appendChild(frag);
}

function setAdvanced(open){ ui.advOpen=open; localStorage.setItem('advOpen', open?'1':'0'); by('#advFilters').style.display=open?'block':'none'; by('#btnToggleFilters').setAttribute('aria-expanded',open?'true':'false'); updateToggleLabel(); }
function updateToggleLabel(){ const c=totalActiveCount(); by('#countActive').textContent = c?`(${c} activos)`:''; by('#btnToggleFilters').firstChild.textContent = (ui.advOpen?'Ocultar':'Mostrar') + ' filtros avanzados '; }

function update(){
  const facets = collectFacets(PAPERS);
  renderChips('#f-tech', facets.tech, 'tech'); renderChips('#f-tec', facets.tec, 'tec'); renderChips('#f-inst', facets.inst, 'inst'); renderChips('#f-proj', facets.proj, 'proj'); renderChips('#f-ses', facets.ses, 'ses'); renderChips('#f-cty', facets.cty, 'cty');
  const items = filterData(); renderResults(items);
  by('#stats').innerHTML = `<span class=\"pill\">${items.length} de ${PAPERS.length} resultados</span>`;
  by('#activeFilters').textContent = activeFiltersText();
  renderTopUsed(); renderMedicalAnalysis(); updateToggleLabel();
}

function syncURL(){ const params = new URLSearchParams(); if(state.q) params.set('q', state.q); ['tech','tec','inst','proj','ses','cty'].forEach(k=>{ if(state[k].size) params.set(k,[...state[k]].join('|')); }); history.replaceState(null,'', `${location.pathname}?${params.toString()}`); }
function loadFromURL(){ const params = new URLSearchParams(location.search); state.q = params.get('q') || ''; ['tech','tec','inst','proj','ses','cty'].forEach(k=>{ state[k] = new Set( (params.get(k)||'').split('|').filter(Boolean) ); }); }
function initSearchBox(){ const q = by('#q'); q.value = state.q; q.addEventListener('input', e=>{ state.q=e.target.value.trim(); syncURL(); update();}); by('#btnClear').addEventListener('click', ()=>{ for(const k of Object.keys(state)) if(k!=='q') state[k].clear(); state.q=''; q.value=''; syncURL(); update(); }); window.addEventListener('keydown', (e)=>{ if(e.key==='/'){ e.preventDefault(); q.focus(); q.select(); } if(e.key==='Escape'){ q.blur(); } if(e.key==='r' || e.key==='R'){ if(document.activeElement!==q){ for(const k of Object.keys(state)) if(k!=='q') state[k].clear(); state.q=''; q.value=''; syncURL(); update(); }}}); }
function initToggle(){ setAdvanced(ui.advOpen); by('#btnToggleFilters').addEventListener('click', ()=> setAdvanced(!ui.advOpen)); }

loadFromURL(); initSearchBox(); initToggle(); update();

// ======== Anal√≠tica ========
function countBy(arr){const m=new Map();arr.forEach(v=>{if(!v)return;const k=String(v).trim();m.set(k,(m.get(k)||0)+1)});return [...m.entries()].sort((a,b)=>b[1]-a[1]);}
function topList(entries, n=10){return entries.slice(0,n);} 
function renderBars(elId, entries, total){ const root=by(elId); if(!root) return; root.innerHTML=''; const max = entries.length? entries[0][1] : 0;
  entries.forEach(([name,count])=>{ const row=document.createElement('div');row.className='bar'; const label=document.createElement('div');label.className='label';label.textContent=name; const track=document.createElement('div');track.className='track'; const fill=document.createElement('div');fill.className='fill';fill.style.width= max? `${(count/max)*100}%`:'0%'; track.appendChild(fill); const val=document.createElement('div');val.className='val';val.textContent=`${count} (${Math.round((count/total)*100)}%)`; row.appendChild(label);row.appendChild(track);row.appendChild(val); root.appendChild(row); });}
function renderTopUsed(){ const tech = countBy(PAPERS.flatMap(p=>p.technologies||[])); const tec  = countBy(PAPERS.flatMap(p=>p.techniques||[])); const totalTech = PAPERS.flatMap(p=>p.technologies||[]).length || 1; const totalTec  = PAPERS.flatMap(p=>p.techniques||[]).length || 1; renderBars('#bars-tech', topList(tech,10), totalTech); renderBars('#bars-tec',  topList(tec,10),  totalTec); by('#kpi-top').innerHTML = `<span class=\"kpi\">Tecnolog√≠as √∫nicas: ${tech.length}</span><span class=\"kpi\">T√©cnicas √∫nicas: ${tec.length}</span>`; }
function isMedicalPaper(p){ const txt = [p.session,p.title,p.summary,(p.technologies||[]).join(' '),(p.techniques||[]).join(' ')].join(' ').toLowerCase(); const kws = ['medical','medicine','health','surgery','breast','prosthe','rehabil','hearing','anatomic','anatomy','obesity','ecg','clinic']; return kws.some(k=>txt.includes(k)) || /\\bmedical\\b|\\bmedicine\\b|\\bhealth\\b/i.test(p.session||''); }
function renderMedicalAnalysis(){ const med = PAPERS.filter(isMedicalPaper); const share = Math.round((med.length / PAPERS.length) * 100); const medTech = countBy(med.flatMap(p=>p.technologies||[])); const totalMedTech = med.flatMap(p=>p.technologies||[]).length || 1; by('#kpi-med').innerHTML = `<span class=\"kpi\">Papers m√©dicos: ${med.length} / ${PAPERS.length} (${share}%)</span><span class=\"kpi\">Tecnolog√≠as m√©dicas √∫nicas: ${medTech.length}</span>`; renderBars('#bars-med-tech', topList(medTech,8), totalMedTech); }
</script>

<!-- >>> PATCH v4: A√±ade chips Abstract/PDF/DOI SIN tocar renderResults <<< -->
<style>
  .chip{display:inline-block;padding:6px 12px;border:1px solid #e0e0e0;border-radius:9999px;text-decoration:none;font-size:0.9rem;line-height:1.2;margin-right:6px}
  .chip:hover{text-decoration:underline}
</style>
<script>
(function(){
  function buildLinksFromId(idStr){
    if(!/^\d+$/.test(idStr)) return null;
    const two = idStr.padStart(2,'0');
    const code = `25${two}`; // 2025
    return {
      abs: `https://proc.3dbody.tech/abstracts/2025/${code}.html`,
      pdf: `https://proc.3dbody.tech/papers/2025/${code}.pdf`,
      pdfA:`https://proc.3dbody.tech/papers/2025/${code}abs.pdf`,
      doi: `https://doi.org/10.15221/25.${two}`
    };
  }
  function addChipsToCard(card){
    if(card.querySelector('.chips-proc')) return; // ya a√±adido
    const metaTags = card.querySelectorAll('.meta .tag');
    if(!metaTags || metaTags.length < 2) return;
    const idText = metaTags[1].textContent || '';
    const id = idText.replace('#','').trim();
    const L = buildLinksFromId(id);
    if(!L) return;
    const wrap = document.createElement('div');
    wrap.className = 'chips-proc';
    wrap.style.cssText = 'display:flex;flex-wrap:wrap;gap:8px;margin:.6rem 0';
    wrap.innerHTML = `
      <a class="chip" href="${L.abs}" target="_blank" rel="noopener">Landing Page</a>
      <a class="chip" href="${L.pdf}" target="_blank" rel="noopener">PDF</a>
      <a class="chip" href="${L.pdfA}" target="_blank" rel="noopener">PDF (abstract)</a>
      <a class="chip" href="${L.doi}" target="_blank" rel="noopener">DOI</a>
    `;
    // Insert after abstract paragraph si existe, si no al final
    const absP = card.querySelector('p.abstract');
    if(absP && absP.parentNode){
      absP.parentNode.insertBefore(wrap, absP.nextSibling);
    }else{
      card.appendChild(wrap);
    }
  }
  function addChipsAll(){
    document.querySelectorAll('article.card').forEach(addChipsToCard);
  }
  // Hook: tras llamar a update() (sin romperla)
  if(typeof window.update === 'function'){
    const __oldUpdate = window.update;
    window.update = function(){
      const r = __oldUpdate.apply(this, arguments);
      try{ addChipsAll(); }catch(e){ console.warn('chips-proc error', e); }
      return r;
    };
  }
  document.addEventListener('DOMContentLoaded', addChipsAll);
  // Por si el HTML llega por AJAX y cambia sin update, observar mutaciones:
  const obs = new MutationObserver(()=>{ addChipsAll(); });
  obs.observe(document.documentElement, {childList:true, subtree:true});
})();
</script>
<!-- <<< END PATCH v4 >>> -->
</body>
</html>
